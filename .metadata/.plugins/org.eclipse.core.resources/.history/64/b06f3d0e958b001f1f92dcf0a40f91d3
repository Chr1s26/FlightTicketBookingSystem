package view;

import java.util.List;

import javax.swing.JFrame;

import Dao.TicketDaoImpl;
import Model.Ticket;

public class TicketListingPage extends BaseWindow{
	
	private TicketDaoImpl ticketDaoImpl;
	private String[] columns = {"CustomerName","SeatName","SeatType","Dept Airport","Arrival Airport"};
	
	public TicketListingPage() {
		ticketDaoImpl = new TicketDaoImpl();
		
	}
	
	public void prepareBaseWindow() {
		this.baseWindow.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
		this.setTitle("Ticket Information");
		this.baseWindow.setSize(800,400);
		this.baseWindow.setVisible(true);
	}
	
	public String[][] getTicketData(){
		List<Ticket> tickets = ticketDaoImpl.getAll();
		String[][] ticketarray = new String[tickets.size()][columns.length];
		int rowCount = 0;
		for(Ticket ticket : tickets) {
			ticketarray[rowCount][0] = ticket.getCustomer().getCustomerName();
			ticketarray[rowCount][1] = ticket.getSeat().getSeatNumber();
			ticketarray[rowCount][2] = ticket.getSchedule().getRoute().getDepatureAirport().getName();
			ticketarray[rowCount][3] =
			rowCount++;
		}
	}
}
